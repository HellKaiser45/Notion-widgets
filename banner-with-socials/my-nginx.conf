server {
    listen 80;
    listen [::]:80;
    root /var/www/html;
    index index.html;
    server_name ${SITE_ORIGIN};

    location = / {
        # Redirect to /ui only if no URL parameters are present
        if ($args = "") {
            return 301 /ui;
        }

        # If URL parameters exist, allow the request to proceed
        try_files $uri $uri/ =404;
    }

    location / {
        # Preserve existing try_files behavior for other paths
        try_files $uri $uri/ =404;
    }
}
